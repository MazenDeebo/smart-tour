/*! For license information please see 1056.832d97eddacbd8319f1d.js.LICENSE.txt */
"use strict";(self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[]).push([[1056],{73927:(t,a,i)=>{i.d(a,{h:()=>s});var e=i(89103);class s extends e.QB{constructor(t,a){super(),this.width=t,this.height=a}}},45395:(t,a,i)=>{var e;i.d(a,{D:()=>e}),function(t){t[t.Immediate=0]="Immediate",t[t.NextFrame=1]="NextFrame",t[t.Duration=2]="Duration",t[t.Manual=3]="Manual",t[t.Debounced=4]="Debounced"}(e||(e={}))},76234:(t,a,i)=>{i.d(a,{Xw:()=>e,gj:()=>c,jz:()=>h});var e,s=i(79070),o=i(21440),r=i(244),n=i(45395);!function(t){t.added="added",t.removed="removed",t.updated="updated"}(e||(e={}));class c{constructor(t,a,i){this.index=t,this.action=a,this.diff=i}}class h{constructor(t,a){if(this.changedHandlers=[],this.awaitingInvoke=!1,this.diffRecord=[],this.targetMonitors={},this.triggerChangeHandlers=this.invokeChangeHandlers.bind(this),this.config=t,this.updatePhaseSync=a,this.config.aggregationType===n.D.NextFrame){if(!a)throw Error("UpdatePhaseSync required for NextFrame aggregation")}else{if(this.config.aggregationType===n.D.Duration)throw Error("Aggregation Type not implemented");this.config.aggregationType===n.D.Debounced&&(this.triggerChangeHandlers=(0,s.s)(this.invokeChangeHandlers.bind(this),t.aggregationDuration))}}hasDiffRecord(){return this.diffRecord.length>0}clearDiffRecord(){this.diffRecord=[];for(const t in this.targetMonitors){const a=this.targetMonitors[t];a.hasDiffRecord()&&a.clearDiffRecord()}this.awaitingInvoke=!1}onChanged(t){this.changedHandlers.push(t)}removeOnChanged(t){(0,o.Nz)(this.changedHandlers,t)}invokeCallbacks(t){if(this.changedHandlers.length>0)for(const a of this.changedHandlers)a(t)}invokeChangeHandlers(t){var a;switch(this.config.aggregationType){case n.D.Immediate:case n.D.Debounced:this.invokeCallbacks(t);break;case n.D.NextFrame:this.awaitingInvoke||(this.awaitingInvoke=!0,null===(a=this.updatePhaseSync)||void 0===a||a.after(r.R.End).then((()=>{this.awaitingInvoke&&(this.invokeCallbacks(t),this.awaitingInvoke=!1)})));case n.D.Manual:}}}},35473:(t,a,i)=>{i.d(a,{F:()=>r});var e=i(28913),s=i(76234),o=i(2391);class r extends s.jz{constructor(t,a,i){super(a,i),this.target=t;for(const e of t.keys){const s=t.get(e),r=new o.V(s,a,i);r.onChanged(this.triggerChangeHandlers),this.targetMonitors[e]=r}const r={onAdded:(t,r)=>{const n=new o.V(t,a,i);n.onChanged(this.triggerChangeHandlers),this.targetMonitors[r]=n;const c=this.diffRecord.findIndex((t=>t.index===r));-1!==c&&this.diffRecord.splice(c,1);const h=new s.gj(r,s.Xw.added,(0,e.A4)(t));-1===c&&this.diffRecord.push(h),this.triggerChangeHandlers(h)},onRemoved:(t,a)=>{delete this.targetMonitors[a];const i=this.diffRecord.findIndex((t=>t.index===a));-1!==i&&this.diffRecord.splice(i,1);const o=new s.gj(a,s.Xw.removed,(0,e.A4)(t));-1===i&&this.diffRecord.push(o),this.triggerChangeHandlers(o)}};this.target.onElementChanged(r)}commitChanges(){this.invokeCallbacks(this.getDiffRecord())}getDiffRecord(){const t=[];for(const a in this.targetMonitors){const i=this.targetMonitors[a];if(i.hasDiffRecord()){const o=i.getDiffRecord(),r=this.diffRecord.findIndex((t=>t.index===a));-1!==r?(0,e.h1)(this.diffRecord[r].diff,o):t.push(new s.gj(a,s.Xw.updated,o))}}return this.diffRecord.concat(t)}}},2391:(t,a,i)=>{i.d(a,{V:()=>c});var e=i(79070),s=i(21440),o=i(28913),r=i(244),n=i(45395);class c{constructor(t,a,i){this.updatePhaseSync=i,this.target=t,this.clearDiffRecord(),this.aggregationType=a.aggregationType,this.aggregationType===n.D.Debounced&&(this.handleAggregation=(0,e.s)(this.handleAggregation.bind(this),a.aggregationDuration||30)),this.target.onChanged((()=>{this.diffRecord=(0,o.bB)(this.originalData,(0,o.A4)(this.target),a.shallow),this.handleAggregation()})),this.changedHandlers=[]}hasDiffRecord(){return Object.keys(this.diffRecord).length>0}getDiffRecord(){return this.diffRecord}clearDiffRecord(){this.originalData=(0,o.A4)(this.target),this.diffRecord={}}onChanged(t){this.changedHandlers.push(t)}removeOnChanged(t){(0,s.Nz)(this.changedHandlers,t)}commitChanges(){this.triggerChangeHandlers(this.diffRecord)}handleAggregation(){switch(this.aggregationType){case n.D.Immediate:this.triggerChangeHandlers(this.diffRecord);break;case n.D.NextFrame:if(!this.updatePhaseSync)throw new Error("handleAggregation() -> Next frame aggregation requested, but updatePhaseSync is null");this.nextFramePromise||(this.nextFramePromise=this.updatePhaseSync.after(r.R.Begin).then((()=>{this.triggerChangeHandlers(this.diffRecord)})).finally((()=>{this.nextFramePromise=void 0})));break;case n.D.Debounced:this.triggerChangeHandlers(this.diffRecord);break;case n.D.Duration:throw new Error("AggregationType.Duration: Please implement me :)");case n.D.Manual:}}triggerChangeHandlers(t){if(this.changedHandlers.length>0)for(const a of this.changedHandlers)a(t)}}},15404:(t,a,i)=>{var e;i.d(a,{p:()=>e}),function(t){t.BLURS="blurs",t.BLUR_SUGGESTIONS="blur-suggestions",t.FLOORS="floors",t.HIGHLIGHTS="highlights",t.LABELS="labels",t.MATTERTAGS="mattertags",t.MEASUREMENTS="measurements",t.NOTES="notes",t.OBJECT_ANNOTATIONS="objectAnnotations",t.ORDERED_LISTS="orderedLists",t.PHOTOS="photos",t.PLUGINS="plugins",t.SETTINGS="settings",t.START_LOCATION="startlocation",t.SWEEPS="sweeps",t.LAYERS="layers",t.ROOM_BOUNDS="room_bounds"}(e||(e={}))},27960:(t,a,i)=>{i.d(a,{d:()=>s});var e=i(52018);class s extends e.t{constructor(t="Unhandled Transition Exception"){super(t),this.name="TransitionException"}}},39710:(t,a,i)=>{i.r(a),i.d(a,{TRANSITION_DISTANCE_MULTIPLIER:()=>A,baseTransitionSpeedKey:()=>E,default:()=>O});var e=i(68909);var s=i(52885),o=i(40397),r=i(73927),n=i(75578),c=i(20599),h=i(89103);class l extends h.QB{constructor(t,a){super(),this.from=a,this.to=t,this.timestamp=Date.now()}}class d extends l{}var m=i(31093),p=i(94814),u=i(62568),D=i(59758),g=i(37105),f=i(3249),T=i(48734),v=i(13893),y=i(27960);class b extends y.d{constructor(t="Unhandled Camera Exception"){super(t),this.name="CameraTransitionException"}}class x extends y.d{constructor(t="Cannot move while the camera is already moving"){super(t),this.name="CameraTransitionException"}}var C=i(3066);class S{constructor(t,a){this.proxy=t,this.target=a}updateCameraPose(t){this.proxy.activeSession(this)&&this.target.updateCameraPose(t)}beginExternalTransition(){this.proxy.activeSession(this)&&this.target.beginExternalTransition()}endExternalTransition(){this.proxy.activeSession(this)&&this.target.endExternalTransition()}updateCameraPosition(t){this.proxy.activeSession(this)&&this.target.updateCameraPosition(t)}updateCameraRotation(t){this.proxy.activeSession(this)&&this.target.updateCameraRotation(t)}updateCameraFocus(t){this.proxy.activeSession(this)&&this.target.updateCameraFocus(t)}updateCameraProjection(t){this.proxy.activeSession(this)&&this.target.updateCameraProjection(t)}moveTo(t){return this.proxy.activeSession(this)?this.target.moveTo(t):m.i.resolve()}setBaseProjection(t){this.proxy.activeSession(this)&&this.target.setBaseProjection(t)}async cancelTransition(){if(this.proxy.activeSession(this))return this.target.cancelTransition()}updateTransitionSpeed(t){this.proxy.activeSession(this)&&this.target.updateTransitionSpeed(t)}}class k{constructor(t,a){this.controller=t,this.data=a,this.proxies=[]}get pose(){return this.data}activeSession(t){if(0===this.proxies.length)return!1;return this.proxies[this.proxies.length-1].controller===t}newSession(t){let a=null;if(-1!==this.proxies.findIndex((a=>a.requester===t)))throw new Error("Cannot create two sessions with the same requester");return(0,C.Sh)((()=>{if(!a){if(this.proxies.length>0){const t=this.proxies[this.proxies.length-1];t.requester.onAccessRevoked(t.controller)}a=new S(this,this.controller),this.proxies.push({controller:a,requester:t}),t.onAccessGranted(a)}}),(()=>{if(a){const t=this.proxies.findIndex((t=>t.controller===a));if(-1!==t){const a=this.proxies[t],i=t===this.proxies.length-1;if(i&&a.requester.onAccessRevoked(a.controller),this.proxies.splice(t,1),this.proxies.length>0&&i){const t=this.proxies[this.proxies.length-1];t.requester.onAccessGranted(t.controller)}}}}))}}var R=i(19968),w=i(71687);const P={[v.fl.Instant]:{blackoutTime:0,transitionTime:0},[v.fl.FadeToBlack]:{blackoutTime:u.Ay.camera.transitionBlackoutTime,transitionTime:2*u.Ay.camera.transitionBlackoutTime},[v.fl.Interpolate]:{blackoutTime:0,transitionTime:u.Ay.camera.transitionFadeTime},[v.fl.MoveToBlack]:{blackoutTime:u.Ay.camera.transitionBlackoutTime,transitionTime:u.Ay.camera.transitionFadeTime},[v.fl.OrbitTo]:{blackoutTime:0,transitionTime:u.Ay.camera.transitionFadeTime}},A=166,E="Transition time";class O extends n.n{constructor(){super(...arguments),this.name="camera-data",this.transitionSpeed=u.Ay.camera.transitionSpeed,this.baseTransitionTime=u.Ay.camera.baseTransitionTime,this.eulerCache=new e.Euler,this.quaternionCache=new e.Quaternion,this.computeOrbitDistance=()=>{if(this.visibleMeshBounds){const t=this.cameraData.pose,a=new e.Ray(t.position.clone(),t.forward().clone());return this.visibleMeshBounds.computeFocusPoint(a).distanceTo(t.position)/t.fovDistanceScale()}return this.cameraData.pose.fovCorrectedFocalDistance()}}async init(t,a){this.engine=a,this.market=a.market,this.canvas=await a.market.waitForData(g.p),this.cameraData=new c.M(this.canvas.width,this.canvas.height),this.market.register(c.M,this.cameraData),this.cameraPoseProxy=((t,a)=>new k(t,a))(this,this.cameraData.pose),a.market.waitForData(D.o).then((t=>{this.bindings.push(t.onSettingChanged(E,(t=>{this.baseTransitionTime=t})))})),a.getModuleBySymbol(w.UN).then((t=>this.visibleMeshBounds=t)),this.bindings.push(a.subscribe(r.h,(t=>this.cameraData.setCameraDimensions(t.width,t.height))))}onUpdate(t){}fromPose(t=!1){const a=this.cameraData.pose;return{position:t?a.fovCorrectedPosition().clone():a.position.clone(),rotation:a.rotation.clone(),projection:a.projection.clone(),focalDistance:t?a.fovCorrectedFocalDistance():a.focalDistance}}getCameraDataForViewport(t){return this.cameraData}updateCameraPosition(t){this.cameraData.pose.position.copy(t),this.cameraData.pose.commit()}updateCameraProjection(t){this.cameraData.pose.projection.copy(t),this.cameraData.pose.commit()}updateCameraFocus(t){this.cameraData.pose.focalDistance=t,this.cameraData.pose.commit()}updateCameraRotation(t){this.cameraData.pose.rotation.copy(t),this.cameraData.pose.commit()}updateCameraPose(t){this.cameraData.pose.copy(t),this.cameraData.pose.commit()}resetPitch(){this.eulerCache.setFromQuaternion(this.cameraData.pose.rotation,"YXZ"),this.eulerCache.x=0,this.eulerCache.z=0,this.quaternionCache.setFromEuler(this.eulerCache),this.updateCameraRotation(this.quaternionCache)}canTransition(){return this.cameraData.canTransition()}moveTo(t){if(!this.canTransition())return m.i.reject(new x("Tried to start transition while another transition was active"));const a=P[t.transitionType],i=t.pose.rotation,e=t.pose.position,s=null==t.fadeToBlackSubType?v.pw.Full:t.fadeToBlackSubType;let r=t.projection;t.autoOrtho?r=void 0:t.pose.zoom&&(r&&(0,o.Gp)(r)||this.cameraData.isOrtho())&&(r=this.adjustProjectionZoom(r||this.cameraData.pose.projection.clone(),t.pose.zoom));const n=void 0!==t.blackoutTime?t.blackoutTime:a.blackoutTime,c=t.transitionType,h=t.transitionSpeedMultiplier?1/t.transitionSpeedMultiplier:1;let u=c===v.fl.Instant?0:t.transitionTime;if(void 0===u)if(t.transitionType===v.fl.Interpolate&&e){const t=e.distanceTo(this.cameraData.pose.position);u=this.baseTransitionTime+Math.log2(1+t)*A*this.transitionSpeed*h}else u=a.transitionTime;const D=this.fromPose(!!t.autoOrtho),g=c===v.fl.OrbitTo?t.targetPhi:void 0,y=c===v.fl.OrbitTo?p.p9:t.easing;this.beginInternalTransition({transitionType:c,transitionTime:u,blackoutTime:n,pose:{position:e,rotation:i},autoOrtho:!!t.autoOrtho,projection:r,easing:y,rotationDelay:t.rotationDelay||0,rotationDuration:t.rotationDuration||1,matrixDelay:t.matrixDelay||0,matrixDuration:t.matrixDuration||1,focalDistance:t.focalDistance||D.focalDistance,targetPhi:g,fadeToBlackSubType:s});const C={position:t.pose.position?t.pose.position.clone():void 0,rotation:t.pose.rotation?t.pose.rotation.clone():void 0,projection:t.projection?t.projection.clone():void 0,focalDistance:t.focalDistance?t.focalDistance:void 0};this.engine.broadcast(new l(C,D));const S=this.cameraData.transition.promise;if(!S)return m.i.reject(new b("Expected promise to have been created."));const k=this.progressInternalTransition.bind(this),R=this.shouldProgressInternalTransition.bind(this),w=this.endInternalTransition.bind(this),E=this;return S.notify(0),this.engine.startGenerator((function*(){let a=16;for(a>=E.cameraData.transition.duration&&(S.notify(.5),yield new T.oN);R(a);){k(a,n);const t=(0,f.qE)(a/E.cameraData.transition.duration,0,1);S.notify(t),yield new T.oN,a=16+Date.now()-E.cameraData.transition.startTime}w(t.transitionType),E.cameraData.commit(),S.notify(1),S.resolve(),E.engine.broadcast(new d(C,D))})),S.promise()}setBaseProjection(t){this.cameraData.setBaseProjection(t)}async cancelTransition(){if(this.cameraData.transition.active)return new Promise((t=>{(0,c.q)(this.cameraData.pose,this.cameraData.transition.to,!1);const a=Date.now()-this.cameraData.transition.startTime;this.cameraData.transition.duration=a,this.cameraData.transition.progress.stop(1),this.cameraData.pose.commit(),this.cameraData.transition.commit();const i=this.cameraData.transition.onPropertyChanged("active",(a=>{a||(i&&i.cancel(),t())}))}))}updateTransitionSpeed(t){if(this.cameraData.transition.active){const a=Date.now(),i=a-this.cameraData.transition.startTime,e=i/t,s=this.cameraData.transition.progress,o=(s.duration-i)/t+e;this.cameraData.transition.duration=o,this.cameraData.transition.startTime=a-e,s.modifyAnimation(s.value,s.endValue,o,s.easing,e),this.cameraData.transition.commit()}}beginExternalTransition(){this.cameraData.transition.activeInternal||(this.cameraData.transition.startTime=Date.now(),this.cameraData.transition.active=!0,this.cameraData.transition.promise=new m.i,this.cameraData.transition.commit())}endExternalTransition(){var t;this.cameraData.transition.activeInternal||(this.cameraData.transition.active=!1,null===(t=this.cameraData.transition.promise)||void 0===t||t.resolve(),this.cameraData.transition.commit())}beginInternalTransition(t){const a=t.transitionTime||0;if(this.cameraData.transition.startTime=Date.now(),this.cameraData.transition.duration=a,this.cameraData.transition.active=!0,this.cameraData.transition.promise=new m.i,this.cameraData.transition.activeInternal=!0,this.cameraData.transition.type=t.transitionType,this.cameraData.transition.progress.modifyAnimation(0,1,a,t.easing||p.dV),this.cameraData.transition.rotationDelay=t.rotationDelay||0,this.cameraData.transition.rotationDuration=t.rotationDuration||1,this.cameraData.transition.matrixDelay=t.matrixDelay||0,this.cameraData.transition.matrixDuration=t.matrixDuration||1,this.cameraData.transition.autoOrtho=!!t.autoOrtho,this.cameraData.transition.fadeToBlackSubType=t.fadeToBlackSubType||v.pw.Full,t.transitionType===v.fl.FadeToBlack&&(this.cameraData.transition.blackoutProgress.modifyAnimation(0,1,t.blackoutTime,p.p9),this.cameraData.transition.fadeToBlackSubType===v.pw.BlackToClear&&this.cameraData.transition.blackoutProgress.updateAbsolute(t.blackoutTime)),t.transitionType===v.fl.MoveToBlack){const t=500;this.cameraData.transition.blackoutProgress.modifyAnimation(0,1,a-2*t,p.sP,0,t)}this.cameraData.transition.from=this.fromPose(!!t.autoOrtho),this.cameraData.transition.to.position=t.pose.position?t.pose.position.clone():void 0,this.cameraData.transition.to.rotation=t.pose.rotation?t.pose.rotation.clone():void 0,this.cameraData.transition.to.projection=t.projection?t.projection.clone():void 0,this.cameraData.transition.to.focalDistance=t.focalDistance?t.focalDistance:void 0,t.transitionType===v.fl.FadeToBlack&&this.cameraData.transition.fadeToBlackSubType===v.pw.BlackToClear&&(0,c.q)(this.cameraData.transition.to,this.cameraData.pose,!1),null!=t.targetPhi&&(this.cameraData.transition.orbitStartDistance=this.computeOrbitDistance(),this.cameraData.transition.orbitTarget=t.targetPhi,this.cameraData.transition.orbitStartPhi=this.cameraData.pose.phi(),this.cameraData.transition.instantOrbit=!(a>0),this.cameraData.pose.focalDistance=this.cameraData.transition.orbitStartDistance*this.cameraData.pose.fovDistanceScale()),this.cameraData.transition.commit()}shouldProgressInternalTransition(t){return this.cameraData.transition.type===v.fl.OrbitTo?this.cameraData.transition.progress.value<1:t<this.cameraData.transition.duration}progressInternalTransition(t,a){if(this.cameraData.transition.active){if(this.cameraData.transition.progress.updateAbsolute(t),this.cameraData.transition.type===v.fl.Interpolate)this.updateInterpolateTransition();else if(this.cameraData.transition.type===v.fl.FadeToBlack){let i=0;const e=this.cameraData.transition.duration;this.cameraData.transition.fadeToBlackSubType===v.pw.Full?t<=a?i=t:((0,c.q)(this.cameraData.transition.to,this.cameraData.pose,!1),i=t>=e-a?e-t:a):this.cameraData.transition.fadeToBlackSubType===v.pw.ClearToBlack?t<=a?i=t:((0,c.q)(this.cameraData.transition.to,this.cameraData.pose,!1),i=a):this.cameraData.transition.fadeToBlackSubType===v.pw.BlackToClear&&(i=t>=e-a?e-t:a),this.cameraData.transition.blackoutProgress.updateAbsolute(i),this.cameraData.transition.progress.updateAbsolute(t<=a?0:e)}else if(this.cameraData.transition.type===v.fl.MoveToBlack){const a=this.cameraData.transition.blackoutProgress;this.updateInterpolateTransition(),a.updateAbsolute(t-a.delay)}else this.cameraData.transition.type===v.fl.OrbitTo&&this.updateOrbitToTransition();this.cameraData.pose.commit(),this.cameraData.transition.commit()}}updateOrbitToTransition(){if(null!=this.cameraData.transition.orbitTarget){const t=(0,R.n4)(this.cameraData.pose,this.cameraData.transition.orbitTarget,this.cameraData.transition.orbitStartPhi,this.cameraData.transition.orbitStartDistance,this.cameraData.transition.instantOrbit,this.cameraData.pose);this.cameraData.transition.progress.updateProgress(t)}}updateInterpolateTransition(){const t=this.cameraData.transition.from,a=this.cameraData.transition.to;if(a.position&&t.position&&this.cameraData.pose.position.copy(t.position).lerp(a.position,this.cameraData.transition.progress.value),a.focalDistance&&t.focalDistance&&(this.cameraData.pose.focalDistance=(0,s.C)(t.focalDistance,a.focalDistance,this.cameraData.transition.progress.value)),a.rotation&&t.rotation){const i=(0,p.jv)(this.cameraData.transition.progress.easing,this.cameraData.transition.progress.value,this.cameraData.transition.progress.elapsed,this.cameraData.transition.progress.duration*this.cameraData.transition.rotationDuration,this.cameraData.transition.rotationDelay);this.cameraData.pose.rotation.copy(t.rotation).slerp(a.rotation,i)}if(this.cameraData.transition.autoOrtho)this.cameraData.pose.resetProjMatrix(),this.cameraData.pose.applyPhiBasedFovSquish();else if(a.projection&&t.projection){const i=(0,p.jv)(p.p_,this.cameraData.transition.progress.value,this.cameraData.transition.progress.elapsed,this.cameraData.transition.progress.duration*this.cameraData.transition.matrixDuration,this.cameraData.transition.matrixDelay);!function(t,a,i,e){const s=e.elements,o=t.elements,r=a.elements;for(let t=0;t<16;t++)s[t]=o[t]*(1-i)+r[t]*i}(t.projection,a.projection,i,this.cameraData.pose.projection)}}endInternalTransition(t){t!==v.fl.OrbitTo&&((0,c.q)(this.cameraData.transition.to,this.cameraData.pose,!1),this.cameraData.transition.autoOrtho&&(this.cameraData.pose.resetProjMatrix(),this.cameraData.pose.applyPhiBasedFovSquish())),this.cameraData.transition.type=null,this.cameraData.transition.active=!1,this.cameraData.transition.activeInternal=!1,this.cameraData.transition.progress.stop(1),t!==v.fl.FadeToBlack&&t!==v.fl.MoveToBlack||(this.cameraData.transition.fadeToBlackSubType===v.pw.ClearToBlack?this.cameraData.transition.blackoutProgress.stop(1):this.cameraData.transition.blackoutProgress.stop(0)),this.cameraData.pose.commit(),this.cameraData.transition.commit()}adjustProjectionZoom(t,a){const i=1/a;return t.elements[0]=i/this.canvas.aspectRatio,t.elements[5]=i,t}getNonProxiedCameraData(t){return t&&t!==this.cameraData?t:this.cameraData}}},94790:(t,a,i)=>{i.d(a,{Qm:()=>n,SK:()=>s,Ve:()=>c,_w:()=>r,jF:()=>o});var e=i(92475);class s extends e.E{constructor(t,a,i,e,s,o=0){super(t),this.position=a,this.buttons=i,this.device=e,this.ctrlKey=s,this.pointerId=o}}class o extends e.E{constructor(t,a,i,e,s,o,r=0){super(t),this.ctrlKey=!1,this.position=a,this.clientPosition=s,this.delta=i,this.buttons=e,this.device=o,this.pointerId=r}}class r extends e.E{constructor(t,a,i,e,s,o,r,n=0){super(t),this.ctrlKey=!1,this.position=a,this.delta=i,this.buttons=e,this.timeSinceLastMove=s,this.fullDelta=o,this.device=r,this.pointerId=n}}class n extends e.E{constructor(t,a,i){super(t),this.position=a,this.pointer=i}}class c extends e.E{constructor(t,a,i,e,s){super(t),this.position=a,this.startPosition=i,this.fullDelta=e,this.pointer=s}}},60043:(t,a,i)=>{i.d(a,{k:()=>s});var e=i(49586);class s extends e.T{constructor(t,a,i){super(),this.key=t,this.state=a,this.modifiers=i}}},90834:(t,a,i)=>{i.d(a,{O:()=>o});var e=i(84710),s=i(44351);class o extends e.B{constructor(){super(...arguments),this.name="interaction",this._source=o.defaultSource,this._mode=o.defaultMode}static get defaultMode(){return s.o.Desktop}static get defaultSource(){return s.m.None}get mode(){return this._mode}get source(){return this._source}updateSource(t){this._source=t}updateMode(t){this._mode=t}hasController(t=this.mode){return t===s.o.VrWithController||t===s.o.VrWithTrackedController}isVR(t=this.mode){return t===s.o.VrOrientOnly||t===s.o.VrWithTrackedController||t===s.o.VrWithController||t===s.o.VrTransientPointer||-1!==t.indexOf(s.o.VrUnknown)}isMobile(t=this.mode){return t===s.o.Mobile}}},72354:(t,a,i)=>{i.d(a,{J:()=>o,b:()=>s});var e=i(89103);class s extends e.QB{constructor(t,a){super(),this.mode=t,this.fromMode=a}}class o extends e.QB{constructor(t){super(),this.source=t}}},81530:(t,a,i)=>{i.d(a,{F:()=>s});var e=i(55141);class s extends e.u{constructor(t){super(),this.payload=t}}s.id="SAVE_COMMAND"},79388:(t,a,i)=>{i.d(a,{aF:()=>r,lo:()=>s,ul:()=>o});var e=i(89103);class s extends e.QB{constructor(t){super(),this.pixelRatio=t}}class o extends e.QB{constructor(t){super(),this.event=t}}class r extends e.QB{constructor(t){super(),this.event=t}}},28337:(t,a,i)=>{var e;i.d(a,{$:()=>e}),function(t){t[t.DOWN=0]="DOWN",t[t.PRESSED=1]="PRESSED",t[t.UP=2]="UP"}(e||(e={}))},72268:(t,a,i)=>{var e,s;i.d(a,{O:()=>s,m:()=>e}),function(t){t[t.PRIMARY=0]="PRIMARY",t[t.MIDDLE=1]="MIDDLE",t[t.SECONDARY=2]="SECONDARY",t[t.BACK=3]="BACK",t[t.FORWARD=4]="FORWARD",t[t.COUNT=5]="COUNT"}(e||(e={})),function(t){t[t.NONE=0]="NONE",t[t.PRIMARY=1]="PRIMARY",t[t.SECONDARY=4]="SECONDARY",t[t.MIDDLE=2]="MIDDLE",t[t.BACK=8]="BACK",t[t.FORWARD=16]="FORWARD",t[t.ALL=31]="ALL"}(s||(s={}))},51666:(t,a,i)=>{i.d(a,{Z:()=>s});var e=i(25481);function s(t){if(t&&"object"==typeof t&&"x"in t&&"y"in t&&"z"in t){const a=t;return(0,e.Et)(a.x)&&(0,e.Et)(a.y)&&(0,e.Et)(a.z)}return!1}}}]);